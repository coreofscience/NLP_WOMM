---
title: "WOM_NLP_LDA"
author: "Sebastian Robledo"
date: "9/18/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Creting the environment 

R packages

```{r}
library(tidyverse)
#library(bibtex)
library(here)
library(reticulate) # python y r
library(bib2df)
```


```{r}
#py_install("bibtexparser")
# py_install("numpy")
# py_install("pandas")
# py_install("gensim")
# py_install("matplotlib")
#py_install("nltk")
py_install("pyprojroot")
```

```{python}
import matplotlib.pyplot as plt
```



# Getting data 

```{python}
import bibtexparser
import numpy as np
import pandas as pd
import pyprojroot
```

```{r}
wom_data_theory <- 
  bib2df(here("data", "WOM_theory.bib")) |> 
  select(TITLE, ABSTRACT) %>% 
  filter(!is.na(ABSTRACT))
```


# Preprocessing

```{python}
# Convierte a lista
data = r(wom_data_theory).values.astype(str).tolist()
```


```{python}
def sent_to_words(sentences):
  for sentence in sentences:
    yield(gensim.utils.simple_preprocess(str(sentence), deacc=True))
    
    
```


